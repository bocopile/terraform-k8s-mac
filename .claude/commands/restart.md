# /restart - 워크플로우 처음부터 재시작

기존 진행 상황을 무시하고 워크플로우를 처음부터 다시 시작합니다.

## 사용법
```
/restart FINOPS-XXX
```

## 작업 내용

### 1. 기존 상태 초기화
- 체크포인트 파일 백업 후 삭제
- Git 브랜치 상태 확인 (변경사항이 있으면 경고)

### 2. JIRA 상태 재설정
- 티켓 상태를 "준비" 또는 "진행중"으로 변경
- 기존 코멘트에 재시작 로그 추가

### 3. Git 브랜치 재생성
- 기존 `feature/FINOPS-XXX` 브랜치 백업 (옵션)
- `grafana-stage`에서 새로운 브랜치 생성

### 4. 워크플로우 시작
- `/finops dev FINOPS-XXX`와 동일하게 실행
- 모든 단계를 처음부터 시작

## 경고

**⚠️ 주의사항:**
- 기존 작업 내용이 손실될 수 있습니다
- Git 브랜치에 커밋되지 않은 변경사항이 있으면 확인 요청
- 체크포인트는 백업되지만 덮어쓰기됩니다

## 사용 시나리오

### 1. 개발 방향 변경
```
티켓 요구사항이 크게 변경되어 처음부터 다시 개발해야 할 때
```

### 2. 브랜치 충돌 해결
```
grafana-stage 브랜치와 심각한 충돌이 발생하여 새로 시작해야 할 때
```

### 3. 테스트 환경 초기화
```
테스트 데이터나 환경 문제로 깨끗한 상태에서 재시작이 필요할 때
```

## Restart vs Resume

| 항목 | /restart | /resume |
|------|----------|---------|
| 체크포인트 | 삭제 후 재생성 | 유지하고 이어서 실행 |
| Git 브랜치 | 재생성 | 기존 브랜치 사용 |
| JIRA 상태 | 초기화 | 유지 |
| 사용 시점 | 전체 재작업 필요 | 실패 지점부터 재개 |

## 실행

다음 명령을 실행하여 워크플로우를 처음부터 재시작합니다:

```bash
python3 scripts/agents/main_agent.py {ticket_id} --restart
```

기존 브랜치를 유지하려면 `/resume`을 사용하세요.
완전히 새로 시작하려면 `/restart`를 사용하세요.
